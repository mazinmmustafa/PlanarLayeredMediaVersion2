Data = load('Data.dat');theta = linspace(0,2*pi,length(Data(:,1)));E_theta = Data(:,3);E_phi = Data(:,4);E_theta(E_theta<1.0E-2)=0;E_phi(E_phi<1.0E-2)=0;E_theta = E_theta/max(E_theta);E_phi = E_phi/max(E_phi);E_theta = 20*log10(E_theta);E_phi = 20*log10(E_phi);E_theta(isnan(E_theta))=-100;E_phi(isnan(E_phi))=-100;E_theta(isinf(E_theta))=-100;E_phi(isinf(E_phi))=-100;file = fopen('DataFarField.dat', 'w');for i=1:length(E_theta)  fprintf(file, '%21.14E %21.14E %21.14E\n', theta(i), E_theta(i), E_phi(i));endfclose(file);